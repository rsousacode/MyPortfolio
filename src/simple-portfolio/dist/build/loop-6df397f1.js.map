{"version":3,"file":"loop-6df397f1.js","sources":["../../node_modules/svelte-typewriter/src/modes/loop.js"],"sourcesContent":["/// <reference path='../types.js' />\nimport { typingInterval, sleep } from '../utils'\n\nconst cleanChildNodes = node => node.childNodes.forEach(el => el.remove())\n\n/** @type {TypewriterEffectFn} */\nconst typewriterEffect = async ({ currentNode, text }, options) => {\n\tcurrentNode.textContent = ''\n\tcurrentNode.classList.add('typing')\n\tfor (const letter of text) {\n\t\tcurrentNode.textContent += letter\n\t\tconst fullyWritten = currentNode.textContent === text.join('')\n\t\tif (fullyWritten) {\n\t\t\toptions.dispatch('done')\n\t\t\tawait sleep(typeof options.loop === 'number' ? options.loop : 1500)\n\t\t\twhile (currentNode.textContent !== '') {\n\t\t\t\tcurrentNode.textContent = currentNode.textContent.slice(0, -1)\n\t\t\t\tawait typingInterval(options.interval)\n\t\t\t}\n\t\t}\n\t\tawait typingInterval(options.interval)\n\t}\n\tcurrentNode.nextSibling !== null && currentNode.classList.length == 1\n\t\t? currentNode.removeAttribute('class')\n\t\t: currentNode.classList.remove('typing')\n}\n\n/** @type {TypewriterModeFn} */\nexport default async ({ node, elements }, options) => {\n\twhile (options.loop) {\n\t\tfor (const { currentNode, text } of elements) {\n\t\t\tcleanChildNodes(node)\n\t\t\tconst loopParagraphTag = currentNode.tagName.toLowerCase()\n\t\t\tconst loopParagraph = document.createElement(loopParagraphTag)\n\t\t\tloopParagraph.textContent = text.join('')\n\t\t\tnode.appendChild(loopParagraph)\n\t\t\tawait typewriterEffect({ currentNode: loopParagraph, text }, options)\n\t\t\tnode.childNodes.forEach(el => el.remove())\n\t\t\tcleanChildNodes(node)\n\t\t}\n\t}\n}\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA,MAAM,eAAe,GAAG,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,CAAC,MAAM,EAAE,EAAC;AAC1E;AACA;AACA,MAAM,gBAAgB,GAAG,OAAO,EAAE,WAAW,EAAE,IAAI,EAAE,EAAE,OAAO,KAAK;AACnE,CAAC,WAAW,CAAC,WAAW,GAAG,GAAE;AAC7B,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,EAAC;AACpC,CAAC,KAAK,MAAM,MAAM,IAAI,IAAI,EAAE;AAC5B,EAAE,WAAW,CAAC,WAAW,IAAI,OAAM;AACnC,EAAE,MAAM,YAAY,GAAG,WAAW,CAAC,WAAW,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC;AAChE,EAAE,IAAI,YAAY,EAAE;AACpB,GAAG,OAAO,CAAC,QAAQ,CAAC,MAAM,EAAC;AAC3B,GAAG,MAAM,KAAK,CAAC,OAAO,OAAO,CAAC,IAAI,KAAK,QAAQ,GAAG,OAAO,CAAC,IAAI,GAAG,IAAI,EAAC;AACtE,GAAG,OAAO,WAAW,CAAC,WAAW,KAAK,EAAE,EAAE;AAC1C,IAAI,WAAW,CAAC,WAAW,GAAG,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAC;AAClE,IAAI,MAAM,cAAc,CAAC,OAAO,CAAC,QAAQ,EAAC;AAC1C,IAAI;AACJ,GAAG;AACH,EAAE,MAAM,cAAc,CAAC,OAAO,CAAC,QAAQ,EAAC;AACxC,EAAE;AACF,CAAC,WAAW,CAAC,WAAW,KAAK,IAAI,IAAI,WAAW,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC;AACtE,IAAI,WAAW,CAAC,eAAe,CAAC,OAAO,CAAC;AACxC,IAAI,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAC;AAC1C,EAAC;AACD;AACA;AACA,WAAe,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,OAAO,KAAK;AACtD,CAAC,OAAO,OAAO,CAAC,IAAI,EAAE;AACtB,EAAE,KAAK,MAAM,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,QAAQ,EAAE;AAChD,GAAG,eAAe,CAAC,IAAI,EAAC;AACxB,GAAG,MAAM,gBAAgB,GAAG,WAAW,CAAC,OAAO,CAAC,WAAW,GAAE;AAC7D,GAAG,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,gBAAgB,EAAC;AACjE,GAAG,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC;AAC5C,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,EAAC;AAClC,GAAG,MAAM,gBAAgB,CAAC,EAAE,WAAW,EAAE,aAAa,EAAE,IAAI,EAAE,EAAE,OAAO,EAAC;AACxE,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,CAAC,MAAM,EAAE,EAAC;AAC7C,GAAG,eAAe,CAAC,IAAI,EAAC;AACxB,GAAG;AACH,EAAE;AACF;;;;"}